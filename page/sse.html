<!DOCTYPE html>
<html>
  <head>
    <title id="title">Push-based Hypermedia with Datastar</title>
    <script id="datastar-script" type="module" src="/page/datastar.js"></script>
    <link
      id="pico-style"
      rel="stylesheet"
      href="/page/pico.classless.orange.min.css"
    >
    <meta id="charset" charset="UTF-8">
  </head>
  <body
    data-on-load="@get('/watch/sse.html')"
    data-on-keydown__window="evt.key == 'ArrowLeft' ? previous.click() : evt.key == 'ArrowRight' ? next.click() : null"
  >
	<header id="header"><h1>Server-Sent Events</h1></header>
<main id="main">
	<p>But first we need to talk about server-sent events (SSE).</p>
	<p>Every request in Datastar is an event stream.</p>
	<p>Server-sent events are unidirectional streams and are part of the HTTP standard.</p>
	<p>They are lightweight, easy to set up (requiring just a few header declarations) and easy to extend.</p>
	<section role="group">
	<pre style="margin-right: 1rem;"><code style="width: fit-content;">
event: event-type
id: first-event
retry: 1000
data: some data
</code></pre>
	<div>
	<p>The event and id lines are optional.</p>
	<p>The retry specifies how long to wait before </br> reconnections in the advent of a connection loss.</p>
	<p>Each part of the event is separated by a new line.</p>
	<p>A second new line terminates the event.</p>
	</div>
	</section>
	<p>Since it’s standard HTTP, you can proxy HTTP1 to HTTP2, add compression, etc. with any standard HTTP proxy.</p>
	<p>Datastar’s implementation was originally based on Azure’s fetch-event-source implementation.</p>
	</main>
<footer id="footer">
      <aside>
        <h2>See Also</h2>
        <ul>
        <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events">MDN - Using Server Sent Events</a></li>
        <li><a href="https://github.com/Azure/fetch-event-source">GitHub - Azure Fetch Event Source</a></li>
		</ul>
      </aside>
	<nav>
	<ol>
		<li><a id="previous" href="plugins.html">← Previous</a></li>
		<li><a id="next" href="sdk.html">Next →</a></li>
	</ol>
	</nav></footer>

	</body>
</html>
